<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K·∫ø ho·∫°ch PR cho CEO L∆∞u Tr√≠</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Corporate (Beige, Taupe, Soft Teal Accent) -->
    <!-- Application Structure Plan: A single-page dashboard with a sticky navigation bar. The structure includes: Overview, Strategic Benefits (interactive cards), Implementation Roadmap (interactive timeline/accordion), Budget Allocation (dynamic donut chart), Key Content Pillars, Risk Management, and a new AI-powered content generation tool. This structure was chosen to transform a static text report into an engaging, explorable plan, allowing users to quickly grasp the overall strategy and drill down into specific details like phase activities or budget allocation without being overwhelmed, while also offering practical tools. -->
    <!-- Visualization & Content Choices: 
    - Report Info: Implementation Roadmap -> Goal: Organize & Show Change -> Viz: Interactive Vertical Timeline -> Interaction: Click to expand/collapse phase details (accordion style) -> Justification: Intuitive for phased plans, avoids information overload -> Library/Method: HTML/CSS/Vanilla JS.
    - Report Info: Estimated Costs -> Goal: Compare Proportions -> Viz: Donut Chart -> Interaction: Hover to see details in tooltip and a separate text block -> Justification: Excellent for showing parts-of-a-whole budget allocation -> Library/Method: Chart.js.
    - Report Info: Benefits & Content Pillars -> Goal: Inform & Organize -> Viz: Styled Cards with Icons -> Interaction: Subtle hover effects -> Justification: Visually appealing and easy to scan -> Library/Method: HTML/Tailwind CSS.
    - Report Info: Content Generation (New) -> Goal: Assist content creation -> Viz: Text input/output area -> Interaction: Button click to trigger LLM, loading state -> Justification: Directly supports PR plan activities by automating initial content drafting -> Library/Method: Gemini API (gemini-2.5-flash-preview-05-20). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
            color: #4A4A4A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 400px;
        }
        .timeline-item-content {
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            max-height: 0;
            overflow: hidden;
        }
        .timeline-item-content.open {
            max-height: 1000px; 
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover, .nav-link.active {
            color: #008080;
            border-bottom-color: #008080;
        }
        .benefit-card, .content-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .benefit-card:hover, .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #008080;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Styling for AI-generated content */
        #generated-content h2 {
            font-family: 'Inter', sans-serif; /* Added for consistency */
            font-size: 1.75rem; /* text-2xl */
            font-weight: 700; /* font-bold */
            color: #2d3748; /* gray-800 */
            margin-bottom: 1rem;
        }
        #generated-content .lead-paragraph {
            font-family: 'Inter', sans-serif; /* Added for consistency */
            font-size: 1.125rem; /* text-lg */
            color: #4a5568; /* gray-700 */
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        #generated-content blockquote {
            font-family: 'Inter', sans-serif; /* Added for consistency */
            border-left: 4px solid #008080; /* teal-600 */
            padding-left: 1rem;
            margin-left: 0;
            margin-bottom: 1.5rem;
            font-style: italic;
            color: #4a5568; /* gray-700 */
        }
        #generated-content p {
            font-family: 'Inter', sans-serif; /* Added for consistency */
            margin-bottom: 1rem;
            line-height: 1.6;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="text-xl font-bold text-gray-800">K·∫ø ho·∫°ch PR: CEO L∆∞u Tr√≠</div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#benefits" class="nav-link text-gray-600 border-b-2 border-transparent pb-1">L·ª£i √≠ch</a>
                    <a href="#roadmap" class="nav-link text-gray-600 border-b-2 border-transparent pb-1">L·ªô tr√¨nh</a>
                    <a href="#budget" class="nav-link text-gray-600 border-b-2 border-transparent pb-1">Ng√¢n s√°ch</a>
                    <a href="#content" class="nav-link text-gray-600 border-b-2 border-transparent pb-1">N·ªôi dung</a>
                    <a href="#gemini-feature" class="nav-link text-gray-600 border-b-2 border-transparent pb-1">C√¥ng c·ª• AI</a>
                </div>
                <div class="md:hidden">
                    <button id="menu-btn" class="text-gray-600 focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="hidden md:hidden mt-4 space-y-2">
                 <a href="#benefits" class="block nav-link text-gray-600">L·ª£i √≠ch</a>
                 <a href="#roadmap" class="block nav-link text-gray-600">L·ªô tr√¨nh</a>
                 <a href="#budget" class="block nav-link text-gray-600">Ng√¢n s√°ch</a>
                 <a href="#content" class="block nav-link text-gray-600">N·ªôi dung</a>
                 <a href="#gemini-feature" class="block nav-link text-gray-600">C√¥ng c·ª• AI</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="overview" class="text-center mb-20">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Chi·∫øn l∆∞·ª£c N√¢ng t·∫ßm Uy t√≠n C√° nh√¢n</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">ƒê√¢y l√† k·∫ø ho·∫°ch PR to√†n di·ªán nh·∫±m ƒë·ªãnh v·ªã CEO L∆∞u Tr√≠ v·ªõi vai tr√≤ l√† <strong>"Doanh nh√¢n ti√™n phong trong lƒ©nh v·ª±c c√¥ng nghi·ªáp h·ªó tr·ª£, nh√† l√£nh ƒë·∫°o t·∫≠n t√¢m v√† c√≥ tr√°ch nhi·ªám x√£ h·ªôi"</strong>, qua ƒë√≥ c·ªßng c·ªë th∆∞∆°ng hi·ªáu Ngh·ªá NƒÉng v√† m·ªü ra nh·ªØng c∆° h·ªôi ph√°t tri·ªÉn m·ªõi.</p>
        </section>

        <section id="benefits" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">L·ª£i √çch Chi·∫øn L∆∞·ª£c</h2>
            <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Vi·ªác x√¢y d·ª±ng th∆∞∆°ng hi·ªáu c√° nh√¢n cho CEO L∆∞u Tr√≠ kh√¥ng ch·ªâ n√¢ng cao uy t√≠n c·ªßa √¥ng m√† c√≤n mang l·∫°i gi√° tr·ªã c·ªông h∆∞·ªüng to l·ªõn cho doanh nghi·ªáp v√† c√°c m·ªëi quan h·ªá chi·∫øn l∆∞·ª£c.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="benefit-card bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-teal-100/70 mb-6 mx-auto">
                        <span class="text-3xl">üèÜ</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 text-center mb-3">N√¢ng cao Uy t√≠n</h3>
                    <p class="text-gray-600 text-center">ƒê·ªãnh v·ªã CEO L∆∞u Tr√≠ nh∆∞ m·ªôt chuy√™n gia h√†ng ƒë·∫ßu v√† l√† ng∆∞·ªùi ph√°t ng√¥n ƒë√°ng tin c·∫≠y cho ng√†nh.</p>
                </div>
                <div class="benefit-card bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-teal-100/70 mb-6 mx-auto">
                        <span class="text-3xl">üè¢</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 text-center mb-3">C·ªßng c·ªë Th∆∞∆°ng hi·ªáu</h3>
                    <p class="text-gray-600 text-center">T·∫°o l·ª£i th·∫ø c·∫°nh tranh, thu h√∫t nh√¢n t√†i v√† tƒÉng c∆∞·ªùng ni·ªÅm tin v√†o th∆∞∆°ng hi·ªáu Ngh·ªá NƒÉng.</p>
                </div>
                <div class="benefit-card bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-teal-100/70 mb-6 mx-auto">
                        <span class="text-3xl">ü§ù</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 text-center mb-3">M·ªü r·ªông C∆° h·ªôi</h3>
                    <p class="text-gray-600 text-center">Thu h√∫t ƒë·∫ßu t∆∞, tham gia c√°c d·ª± √°n l·ªõn v√† d·ªÖ d√†ng thi·∫øt l·∫≠p c√°c m·ªëi quan h·ªá chi·∫øn l∆∞·ª£c.</p>
                </div>
                <div class="benefit-card bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-teal-100/70 mb-6 mx-auto">
                        <span class="text-3xl">üõ°Ô∏è</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 text-center mb-3">Qu·∫£n l√Ω Kh·ªßng ho·∫£ng</h3>
                    <p class="text-gray-600 text-center">X√¢y d·ª±ng n·ªÅn t·∫£ng uy t√≠n v·ªØng ch·∫Øc gi√∫p ·ª©ng ph√≥ v√† v∆∞·ª£t qua c√°c kh·ªßng ho·∫£ng truy·ªÅn th√¥ng hi·ªáu qu·∫£.</p>
                </div>
            </div>
        </section>

        <section id="roadmap" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">L·ªô Tr√¨nh Tri·ªÉn Khai</h2>
            <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">ƒê√¢y l√† l·ªô tr√¨nh chi ti·∫øt c√°c ho·∫°t ƒë·ªông PR ƒë∆∞·ª£c chia th√†nh 4 giai ƒëo·∫°n ch√≠nh. M·ªói giai ƒëo·∫°n c√≥ m·ª•c ti√™u, ho·∫°t ƒë·ªông v√† ng√¢n s√°ch c·ª• th·ªÉ nh·∫±m ƒë·∫£m b·∫£o chi·∫øn d·ªãch ƒëi ƒë√∫ng h∆∞·ªõng v√† ƒë·∫°t hi·ªáu qu·∫£ cao nh·∫•t. Nh·∫•p v√†o t·ª´ng giai ƒëo·∫°n ƒë·ªÉ xem chi ti·∫øt.</p>
            <div id="timeline-container" class="relative max-w-4xl mx-auto">
            </div>
        </section>
        
        <section id="budget" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">Ph√¢n B·ªï Ng√¢n S√°ch</h2>
            <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Ng√¢n s√°ch d·ª± ki·∫øn ƒë∆∞·ª£c ph√¢n b·ªï h·ª£p l√Ω cho t·ª´ng giai ƒëo·∫°n, t·∫≠p trung v√†o c√°c ho·∫°t ƒë·ªông mang l·∫°i hi·ªáu qu·∫£ cao nh·∫•t. Di chu·ªôt qua bi·ªÉu ƒë·ªì ƒë·ªÉ xem chi ti·∫øt.</p>
            <div class="flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-16">
                <div class="chart-container">
                    <canvas id="budgetChart"></canvas>
                </div>
                <div id="budget-details" class="w-full lg:w-1/3 bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">T·ªïng quan Ng√¢n s√°ch</h3>
                    <p class="text-gray-600 mb-2">T·ªïng chi ph√≠ d·ª± ki·∫øn cho chi·∫øn d·ªãch trong 6-9 th√°ng l√† t·ª´ <strong>150 tri·ªáu ƒë·∫øn 400 tri·ªáu VNƒê</strong>.</p>
                    <p class="text-gray-600">Ng√¢n s√°ch ƒë∆∞·ª£c ∆∞u ti√™n cho c√°c ho·∫°t ƒë·ªông c·ªët l√µi nh∆∞ x√¢y d·ª±ng n·ªôi dung, quan h·ªá b√°o ch√≠ v√† s·∫£n xu·∫•t n·ªôi dung s·ªë.</p>
                </div>
            </div>
        </section>

        <section id="content" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">N·ªôi Dung Truy·ªÅn Th√¥ng Ch·ªß ƒê·∫°o</h2>
            <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Chi·∫øn d·ªãch s·∫Ω xoay quanh ba tr·ª• c·ªôt n·ªôi dung ch√≠nh ƒë·ªÉ x√¢y d·ª±ng m·ªôt h√¨nh ·∫£nh ƒëa chi·ªÅu, v·ª´a l√† m·ªôt doanh nh√¢n t√†i nƒÉng, v·ª´a l√† m·ªôt nh√† l√£nh ƒë·∫°o c√≥ tr√°ch nhi·ªám.</p>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="content-card bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">C√¢u chuy·ªán S·ª± nghi·ªáp & T·∫ßm nh√¨n</h3>
                    <p class="text-gray-600">K·ªÉ v·ªÅ h√†nh tr√¨nh x√¢y d·ª±ng Ngh·ªá NƒÉng, nh·ªØng quy·∫øt ƒë·ªãnh chi·∫øn l∆∞·ª£c v√† t·∫ßm nh√¨n v·ªÅ m·ªôt n·ªÅn c√¥ng nghi·ªáp xanh, b·ªÅn v·ªØng.</p>
                </div>
                <div class="content-card bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">Tr√°ch nhi·ªám X√£ h·ªôi (CSR)</h3>
                    <p class="text-gray-600">L√†m n·ªïi b·∫≠t c√°c ho·∫°t ƒë·ªông chƒÉm lo cho ng∆∞·ªùi lao ƒë·ªông, b·∫£o v·ªá m√¥i tr∆∞·ªùng v√† ƒë√≥ng g√≥p cho c·ªông ƒë·ªìng.</p>
                </div>
                <div class="content-card bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">Ki·∫øn th·ª©c Chuy√™n m√¥n</h3>
                    <p class="text-gray-600">Chia s·∫ª c√°c ph√¢n t√≠ch, nh·∫≠n ƒë·ªãnh v·ªÅ xu h∆∞·ªõng ng√†nh, gi·∫£i ph√°p c√¥ng ngh·ªá m·ªõi, kh·∫≥ng ƒë·ªãnh vai tr√≤ chuy√™n gia.</p>
                </div>
            </div>
        </section>

        <section id="gemini-feature" class="mb-20 bg-white p-8 rounded-xl shadow-md border border-gray-200/50">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">C√¥ng C·ª• AI: T·∫°o Ti√™u ƒë·ªÅ & T√≥m t·∫Øt Th√¥ng c√°o B√°o ch√≠ ‚ú®</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">S·ª≠ d·ª•ng s·ª©c m·∫°nh c·ªßa AI ƒë·ªÉ nhanh ch√≥ng t·∫°o ra c√°c g·ª£i √Ω ti√™u ƒë·ªÅ v√† t√≥m t·∫Øt cho th√¥ng c√°o b√°o ch√≠ v·ªÅ c√°c th√†nh t·ª±u m·ªõi c·ªßa CEO L∆∞u Tr√≠ ho·∫∑c c√¥ng ty Ngh·ªá NƒÉng.</p>
            
            <div class="max-w-xl mx-auto">
                <label for="achievement-input" class="block text-gray-700 text-sm font-bold mb-2">M√¥ t·∫£ th√†nh t·ª±u m·ªõi:</label>
                <textarea id="achievement-input" rows="5" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mb-4 resize-y" placeholder="V√≠ d·ª•: C√¥ng ty Ngh·ªá NƒÉng v·ª´a ƒë·∫°t gi·∫£i th∆∞·ªüng 'Doanh nghi·ªáp Xanh c·ªßa nƒÉm' nh·ªù √°p d·ª•ng c√¥ng ngh·ªá ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng..."></textarea>
                
                <button id="generate-btn" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline flex items-center justify-center mx-auto mb-6">
                    T·∫°o Ti√™u ƒë·ªÅ & T√≥m t·∫Øt ‚ú®
                </button>

                <div id="loading-indicator" class="hidden flex justify-center items-center mb-6">
                    <div class="loading-spinner"></div>
                    <span class="ml-3 text-gray-600">ƒêang t·∫°o n·ªôi dung...</span>
                </div>

                <div id="output-area" class="bg-gray-50 p-6 rounded-lg border border-gray-200 hidden">
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">K·∫øt qu·∫£ AI g·ª£i √Ω:</h3>
                    <div id="generated-content" class="text-gray-700"></div>
                </div>
            </div>
        </section>

    </main>
    
    <footer class="bg-white border-t border-gray-200">
        <div class="container mx-auto px-6 py-6 text-center text-gray-500">
            <p>&copy; 2025 K·∫ø ho·∫°ch PR Chi·∫øn l∆∞·ª£c - ng∆∞·ªùi ƒë·ªÅ xu·∫•t: Nguy·ªÖn ƒê·ª©c T√¢m, tr∆∞·ªüng ph√≤ng kinh doanh ifan</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const planData = {
                phases: [
                    {
                        name: "Giai ƒëo·∫°n 1: Chu·∫©n b·ªã & X√¢y d·ª±ng N·ªÅn t·∫£ng",
                        time: "Th√°ng 1 - Th√°ng 2",
                        goal: "Thu th·∫≠p th√¥ng tin, x√¢y d·ª±ng t√†i li·ªáu n·ªÅn t·∫£ng v√† t·ªëi ∆∞u h√≥a h·ªì s∆° c√° nh√¢n.",
                        activities: [
                            "Ph·ªèng v·∫•n s√¢u CEO L∆∞u Tr√≠ v√† c√°c th√†nh vi√™n ch·ªß ch·ªët.",
                            "Vi·∫øt v√† bi√™n t·∫≠p b·ªô t√†i li·ªáu PR (ti·ªÉu s·ª≠, th√¥ng c√°o b√°o ch√≠ m·∫´u, Q&A).",
                            "Thi·∫øt k·∫ø v√† t·ªëi ∆∞u h√≥a h·ªì s∆° LinkedIn chuy√™n nghi·ªáp."
                        ],
                        cost: { min: 20, max: 40, label: "20 - 40tr" },
                        color: 'rgba(0, 128, 128, 0.7)'
                    },
                    {
                        name: "Giai ƒëo·∫°n 2: TƒÉng c∆∞·ªùng Hi·ªán di·ªán tr√™n B√°o ch√≠",
                        time: "Th√°ng 3 - Th√°ng 6",
                        goal: "ƒê∆∞a h√¨nh ·∫£nh v√† c√¢u chuy·ªán c·ªßa CEO L∆∞u Tr√≠ l√™n c√°c k√™nh truy·ªÅn th√¥ng uy t√≠n, t·∫°o s·ª± lan t·ªèa.",
                        activities: [
                            "Ph√°t h√†nh 1-2 b√†i ph·ªèng v·∫•n tr√™n c√°c b√°o kinh t·∫ø l·ªõn.",
                            "Ph√°t h√†nh 1 b√†i vi·∫øt chuy√™n s√¢u tr√™n b√°o ng√†nh.",
                            "S·∫Øp x·∫øp tham gia 1 t·ªça ƒë√†m/h·ªôi th·∫£o chuy√™n ng√†nh.",
                            "Ph√°t h√†nh 1-2 b√†i vi·∫øt v·ªÅ CSR tr√™n b√°o t·ªïng h·ª£p."
                        ],
                        cost: { min: 60, max: 250, label: "60 - 250tr" },
                        color: 'rgba(75, 192, 192, 0.7)'
                    },
                    {
                        name: "Giai ƒëo·∫°n 3: X√¢y d·ª±ng H√¨nh ·∫£nh C·ªông ƒë·ªìng & N·ªôi dung s·ªë",
                        time: "Th√°ng 7 - Th√°ng 9",
                        goal: "TƒÉng c∆∞·ªùng t∆∞∆°ng t√°c v·ªõi c·ªông ƒë·ªìng, x√¢y d·ª±ng n·ªôi dung ƒëa d·∫°ng tr√™n c√°c k√™nh s·ªë.",
                        activities: [
                            "S·∫£n xu·∫•t 1-2 video ng·∫Øn ph·ªèng v·∫•n.",
                            "ƒêƒÉng t·∫£i th∆∞·ªùng xuy√™n tr√™n LinkedIn c√° nh√¢n.",
                            "T·ªï ch·ª©c chuy·∫øn thƒÉm quan nh√† m√°y cho ƒë·ªëi t√°c, nh√† b√°o.",
                            "S·∫£n xu·∫•t n·ªôi dung s·ªë ƒëa d·∫°ng (infographics, tr√≠ch d·∫´n)."
                        ],
                        cost: { min: 35, max: 120, label: "35 - 120tr" },
                        color: 'rgba(255, 159, 64, 0.7)'
                    },
                    {
                        name: "Giai ƒëo·∫°n 4: ƒê√°nh gi√° v√† Duy tr√¨",
                        time: "Th√°ng 10 tr·ªü ƒëi",
                        goal: "ƒêo l∆∞·ªùng hi·ªáu qu·∫£, duy tr√¨ v√† ph√°t tri·ªÉn h√¨nh ·∫£nh l√¢u d√†i.",
                        activities: [
                            "ƒê√°nh gi√° hi·ªáu qu·∫£ chi·∫øn d·ªãch h√†ng qu√Ω.",
                            "Duy tr√¨ m·ªëi quan h·ªá v·ªõi b√°o ch√≠.",
                            "C·∫≠p nh·∫≠t n·ªôi dung tr√™n c√°c k√™nh s·ªë.",
                            "Tham gia c√°c s·ª± ki·ªán ch·ªçn l·ªçc."
                        ],
                        cost: { min: 10, max: 30, label: "10 - 30tr/th√°ng" },
                        color: 'rgba(153, 102, 255, 0.7)'
                    }
                ]
            };

            const timelineContainer = document.getElementById('timeline-container');
            timelineContainer.innerHTML = `<div class="absolute left-1/2 h-full w-0.5 bg-gray-300 transform -translate-x-1/2"></div>`;

            planData.phases.forEach((phase, index) => {
                const isLeft = index % 2 === 0;
                const timelineItem = `
                    <div class="timeline-item mb-8 flex justify-between items-center w-full ${isLeft ? 'flex-row-reverse' : ''}">
                        <div class="order-1 w-5/12"></div>
                        <div class="z-20 flex items-center order-1 bg-teal-600 shadow-xl w-8 h-8 rounded-full">
                            <h1 class="mx-auto font-semibold text-lg text-white">${index + 1}</h1>
                        </div>
                        <div class="order-1 bg-white rounded-lg shadow-xl w-5/12 px-6 py-4">
                            <div class="timeline-item-header cursor-pointer flex justify-between items-center">
                                <div>
                                    <h3 class="font-bold text-gray-800 text-lg">${phase.name}</h3>
                                    <p class="text-sm text-gray-500">${phase.time}</p>
                                </div>
                                <svg class="w-6 h-6 text-gray-500 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </div>
                            <div class="timeline-item-content pt-4">
                                <p class="text-sm text-gray-700 font-semibold mb-2">${phase.goal}</p>
                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 mb-3">
                                    ${phase.activities.map(act => `<li>${act}</li>`).join('')}
                                </ul>
                                <p class="text-sm font-bold text-teal-700">Chi ph√≠: ${phase.cost.label}</p>
                            </div>
                        </div>
                    </div>
                `;
                timelineContainer.innerHTML += timelineItem;
            });

            document.querySelectorAll('.timeline-item-header').forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('svg');
                    content.classList.toggle('open');
                    icon.classList.toggle('rotate-180');
                });
            });

            const budgetCtx = document.getElementById('budgetChart').getContext('2d');
            const budgetData = {
                labels: planData.phases.map(p => p.name),
                datasets: [{
                    label: 'Ph√¢n b·ªï ng√¢n s√°ch (T·ªëi thi·ªÉu)',
                    data: planData.phases.map(p => p.cost.min),
                    backgroundColor: planData.phases.map(p => p.color),
                    borderColor: '#F8F7F4',
                    borderWidth: 4,
                    hoverOffset: 10
                }]
            };
            const budgetChart = new Chart(budgetCtx, {
                type: 'doughnut',
                data: budgetData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 12
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    const phase = planData.phases[context.dataIndex];
                                    if (phase) {
                                        label += `${phase.cost.min} - ${phase.cost.max} tri·ªáu VNƒê`;
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });

            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Gemini API Integration
            const achievementInput = document.getElementById('achievement-input');
            const generateBtn = document.getElementById('generate-btn');
            const loadingIndicator = document.getElementById('loading-indicator');
            const outputArea = document.getElementById('output-area');
            const generatedContent = document.getElementById('generated-content');

            generateBtn.addEventListener('click', async () => {
                const promptText = achievementInput.value.trim();
                if (!promptText) {
                    generatedContent.innerHTML = '<p class="text-red-500">Vui l√≤ng nh·∫≠p m√¥ t·∫£ th√†nh t·ª±u.</p>';
                    outputArea.classList.remove('hidden');
                    return;
                }

                loadingIndicator.classList.remove('hidden');
                outputArea.classList.add('hidden');
                generatedContent.innerHTML = '';

                // REVERTED PROMPT TO ORIGINAL "GOOD" CONTENT QUALITY, BUT ADDED STRICT HTML OUTPUT AND NO INTRO/MARKDOWN BLOCK REQUIREMENTS AT THE END.
                const prompt = `T·∫°o m·ªôt th√¥ng c√°o b√°o ch√≠ ƒë·∫ßy ƒë·ªß, chuy√™n nghi·ªáp v√† h·∫•p d·∫´n cho th√†nh t·ª±u sau ƒë√¢y c·ªßa CEO L∆∞u Tr√≠ ho·∫∑c c√¥ng ty Ngh·ªá NƒÉng.
                Th√¥ng c√°o b√°o ch√≠ ph·∫£i ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng ho√†n ch·ªânh b·∫±ng HTML, bao g·ªìm:
                1.  M·ªôt th·∫ª <h2> cho ti√™u ƒë·ªÅ ch√≠nh.
                2.  M·ªôt th·∫ª <p class='lead-paragraph'> cho ƒëo·∫°n m·ªü ƒë·∫ßu (lead paragraph) t√≥m t·∫Øt ng·∫Øn g·ªçn (Ai, c√°i g√¨, khi n√†o, ·ªü ƒë√¢u, t·∫°i sao).
                3.  M·ªôt th·∫ª <blockquote> ch·ª©a m·ªôt c√¢u tr√≠ch d·∫´n t·ª´ CEO L∆∞u Tr√≠, nh·∫•n m·∫°nh √Ω nghƒ©a c·ªßa th√†nh t·ª±u.
                4.  M·ªôt th·∫ª <p> cho ƒëo·∫°n th√¢n b√†i, cung c·∫•p th√™m chi ti·∫øt v·ªÅ th√†nh t·ª±u, t√°c ƒë·ªông v√† t·∫ßm quan tr·ªçng.
                ƒê·∫£m b·∫£o n·ªôi dung th√¥ng c√°o b√°o ch√≠ chuy√™n nghi·ªáp, h·∫•p d·∫´n v√† c√≥ b·ªë c·ª•c HTML s·∫°ch s·∫Ω, hi·ªán ƒë·∫°i.
                Ch·ªâ tr·∫£ v·ªÅ n·ªôi dung HTML ho√†n ch·ªânh c·ªßa th√¥ng c√°o b√°o ch√≠, kh√¥ng bao g·ªìm b·∫•t k·ª≥ vƒÉn b·∫£n gi·ªõi thi·ªáu, k√Ω hi·ªáu markdown code block (nh∆∞ \`\`\`html) hay b·∫•t k·ª≥ n·ªôi dung n√†o kh√°c ngo√†i HTML.
                M√¥ t·∫£ th√†nh t·ª±u: ${promptText}`;

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyC6-hOHavm6hd8Y4u4gK6G2KG9Ev9SPQjs"; // Updated API Key
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                let retries = 0;
                const maxRetries = 5;
                const baseDelay = 1000; // 1 second

                async function exponentialBackoffFetch() {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429 && retries < maxRetries) {
                                const delay = baseDelay * Math.pow(2, retries);
                                retries++;
                                await new Promise(resolve => setTimeout(resolve, delay));
                                return exponentialBackoffFetch();
                            }
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const htmlContent = result.candidates[0].content.parts[0].text;
                            // Directly insert the HTML content from the LLM
                            generatedContent.innerHTML = htmlContent;
                        } else {
                            generatedContent.innerHTML = '<p class="text-red-500">Kh√¥ng th·ªÉ t·∫°o n·ªôi dung. Vui l√≤ng th·ª≠ l·∫°i.</p>';
                        }
                    } catch (error) {
                        generatedContent.innerHTML = `<p class="text-red-500">ƒê√£ x·∫£y ra l·ªói: ${error.message}. Vui l√≤ng th·ª≠ l·∫°i.</p>`;
                    } finally {
                        loadingIndicator.classList.add('hidden');
                        outputArea.classList.remove('hidden');
                    }
                }

                exponentialBackoffFetch();
            });
        });
    </script>
</body>
</html>
