<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Kế hoạch Phát triển Kênh GT</title>
    <!-- Tải Tailwind CSS từ CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tải Chart.js để vẽ biểu đồ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Tải Font Awesome cho icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <!-- Tải font Inter từ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F5F2;
            color: #4A4A4A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #2563eb;
            border-bottom-color: #2563eb;
        }
        .kpi-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .timeline-container {
            position: relative;
            padding-left: 2rem;
        }
        .timeline-line {
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, #3b82f6, #60a5fa, #bfdbfe);
            border-radius: 2px;
        }
        .timeline-item {
            position: relative;
            padding-bottom: 2.5rem;
        }
        .timeline-dot {
            position: absolute;
            left: 10px;
            top: 0;
            width: 24px;
            height: 24px;
            background-color: #3b82f6;
            border: 3px solid #F8F5F2;
            border-radius: 9999px;
            z-index: 10;
        }
        .timeline-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-left: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .timeline-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .timeline-item.large-text .timeline-card {
            margin-left: 1rem;
        }
        .timeline-item.large-text .timeline-dot {
             left: 12px;
        }
        .timeline-container.large-text .timeline-line {
            left: 20px;
        }
        .responsive-table-container {
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .responsive-table-header {
            display: none;
            background-color: #f3f4f6;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #6b7280;
            font-weight: 600;
        }
        .responsive-table-header > div {
            padding: 0.75rem 1rem;
        }
        .responsive-table-row {
            background-color: #fff;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            transition: background-color 0.2s ease;
            margin-bottom: 1rem;
        }
        .responsive-table-row:hover {
            background-color: #f9fafb;
        }
        .responsive-table-row > div {
            margin-bottom: 0.5rem;
        }
        @media (min-width: 768px) {
            .responsive-table-container {
                background-color: #f3f4f6;
            }
            .responsive-table-header {
                display: grid;
            }
            .responsive-table-row {
                display: grid;
                padding: 0;
                border-radius: 0;
                box-shadow: none;
                margin-bottom: 0;
                border-bottom: 1px solid #e5e7eb;
            }
            .responsive-table-row > div {
                padding: 1rem;
                margin-bottom: 0;
            }
            /* Specific column layouts for each table type */
            .responsive-table-header.five-col, .responsive-table-row.five-col {
                grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
            }
            .responsive-table-header.four-col, .responsive-table-row.four-col {
                grid-template-columns: 1fr 1fr 2fr 2fr;
            }
            .responsive-table-header.three-col, .responsive-table-row.three-col {
                grid-template-columns: 1.5fr 1fr 2fr;
            }
            .responsive-table-header.two-col, .responsive-table-row.two-col {
                grid-template-columns: 1fr 2fr;
            }
            .responsive-table-header.discount-col, .responsive-table-row.discount-col {
                grid-template-columns: 1.5fr 1fr 2fr;
            }
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            width: 90%;
            max-width: 600px;
            animation: fadeIn 0.3s ease-out;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            transition: color 0.2s;
        }
        .close-btn:hover, .close-btn:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }
        .chat-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            height: 500px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            z-index: 90;
            overflow: hidden;
            transform: scale(0.9);
            transform-origin: bottom right;
            transition: transform 0.3s ease-in-out;
        }
        .chat-container.open {
            transform: scale(1);
        }
        .chat-header {
            background-color: #2563eb;
            color: #fff;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        .chat-body {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .chat-input {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
        }
        .chat-message {
            max-width: 80%;
            padding: 0.75rem;
            border-radius: 1rem;
            word-wrap: break-word;
        }
        .user-message {
            background-color: #e2e8f0;
            align-self: flex-end;
            border-bottom-right-radius: 0;
        }
        .bot-message {
            background-color: #d1fae5;
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-blue-600">Kế hoạch Kênh GT</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#tong-quan" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Tổng quan</a>
                        <a href="#lo-trinh-3-nam" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Lộ trình 3 năm</a>
                        <a href="#lo-trinh" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Lộ trình 12 tháng</a>
                        <a href="#phan-tich" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Phân tích</a>
                        <a href="#chinh-sach" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Chính sách</a>
                        <a href="#quy-trinh-tiep-can" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Quy trình</a>
                        <a href="#doi-ngu" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Đội ngũ</a>
                        <a href="#dao-tao" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Đào tạo</a>
                        <a href="#kiem-soat" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Kiểm soát</a>
                        <a href="#hau-mai" class="nav-link px-3 py-2 rounded-md text-sm font-medium">Hậu mãi</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        <!-- New Gemini Feature: Strategic Idea Generator -->
      

        <section id="tong-quan" class="mb-16 text-center">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-gray-800">Bảng điều khiển Tổng quan</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10">
                Các mục tiêu và chỉ số hiệu suất chính (KPI) cho kế hoạch phát triển kênh GT trong 12 tháng tới.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                <div class="kpi-card">
                    <div class="text-blue-500 text-4xl mb-2">🎯</div>
                    <h3 class="text-lg font-semibold text-gray-800">Mục tiêu Doanh thu</h3>
                    <p class="text-3xl font-bold text-blue-600">20%</p>
                    <p class="text-gray-500">Tỷ trọng trên tổng doanh thu công ty (mục tiêu dài hạn)</p>
                </div>
                <div class="kpi-card">
                    <div class="text-green-500 text-4xl mb-2">📈</div>
                    <h3 class="text-lg font-semibold text-gray-800">Tổng Doanh số 12 tháng</h3>
                    <p class="text-3xl font-bold text-green-600">8 Tỷ</p>
                    <p class="text-gray-500">Dự kiến từ kênh GT</p>
                </div>
                <div class="kpi-card">
                    <div class="text-yellow-500 text-4xl mb-2">👥</div>
                    <h3 class="text-lg font-semibold text-gray-800">NPP/Đại lý mới</h3>
                    <p class="text-3xl font-bold text-yellow-600">24-33</p>
                    <p class="text-gray-500">Mục tiêu tuyển mới trong năm</p>
                </div>
            </div>
        </section>
        <section id="lo-trinh-3-nam" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Lộ trình Phát triển 3 Giai đoạn & Ngân sách</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Bức tranh chiến lược tổng thể để phủ sóng kênh GT trên toàn quốc trong 3 năm.
            </p>
            <div class="responsive-table-container">
                <div class="responsive-table-header five-col">
                    <div>Giai đoạn</div>
                    <div>Khu vực</div>
                    <div>KPI</div>
                    <div>Nhân sự</div>
                    <div>Chi phí ước tính</div>
                </div>
                <div class="space-y-4 md:space-y-0">
                    <div class="responsive-table-row five-col">
                        <div class="font-semibold">🟢 Giai đoạn 1 (Năm 1)</div>
                        <div>Miền Nam (Đông Nam Bộ, Tây Nam Bộ)</div>
                        <div>Phủ sóng 15 tỉnh, Doanh thu GT chiếm 15-20% tổng DT.</div>
                        <div>1 Trưởng phòng, 2 Giám sát, 4 Sales GT.</div>
                        <div>Nhân sự: 1.4-1.8 tỷ/năm. Marketing: ~2 tỷ/năm.</div>
                    </div>
                    <div class="responsive-table-row five-col">
                        <div class="font-semibold">🟡 Giai đoạn 2 (Năm 2)</div>
                        <div>Mở rộng Miền Trung & Tây Nguyên</div>
                        <div>Phủ sóng 20 tỉnh, Doanh thu tăng 30-40% so với năm 1.</div>
                        <div>Thêm 1 Giám sát, 3 Sales GT.</div>
                        <div>Nhân sự: 1-1.2 tỷ/năm. Kho & Logistic: ~1 tỷ/năm.</div>
                    </div>
                    <div class="responsive-table-row five-col">
                        <div class="font-semibold">🔵 Giai đoạn 3 (Năm 3)</div>
                        <div>Phủ sóng Miền Bắc</div>
                        <div>Phủ sóng 28 tỉnh, Doanh thu GT chiếm ≥ 35% tổng DT.</div>
                        <div>Thêm 1 Quản lý vùng, 5 Sales GT.</div>
                        <div>Nhân sự: 1.8-2.1 tỷ/năm. Văn phòng & kho: ~2 tỷ/năm.</div>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center text-lg font-bold text-gray-800">
                <p>Tổng Ngân sách Dự kiến (3 năm): <span class="text-blue-600">25 - 30 Tỷ VNĐ</span></p>
            </div>
        </section>
        <section id="lo-trinh" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Lộ trình Phát triển 12 tháng</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Trực quan hóa mục tiêu doanh thu và các hoạt động chính theo từng quý.
            </p>
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <div class="chart-container mb-12">
                    <canvas id="revenueChart"></canvas>
                </div>
                <div class="timeline-container" id="timeline-details">
                    <!-- Dynamic timeline content will be inserted here by JavaScript -->
                    <div class="timeline-line"></div>
                </div>
            </div>
        </section>
        <section id="phan-tich" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Phân tích Thị trường & Đối thủ cạnh tranh</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Đánh giá tổng quan về thị trường, đối thủ cạnh tranh và ma trận SWOT để định hướng chiến lược.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                <!-- Market Analysis Card -->
                <div class="kpi-card bg-blue-50/50">
                    <h3 class="text-xl font-bold text-blue-700 mb-2">Phân tích Thị trường Mục tiêu</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Long An, Tây Ninh, Bình Phước:</strong> Tập trung vào các khu công nghiệp, đô thị mới nổi với dân số trẻ, thu nhập ổn định.</li>
                        <li><strong>Đà Nẵng, Nha Trang:</strong> Thị trường du lịch, dịch vụ phát triển. Chú trọng vào các sản phẩm dành cho resort, khách sạn.</li>
                        <li><strong>Hà Nội, Bắc Ninh, Hải Phòng:</strong> Thị trường truyền thống, mật độ dân số cao. Cần chiến lược thâm nhập sâu.</li>
                    </ul>
                </div>
                <!-- Competitor Analysis Card -->
                <div class="kpi-card bg-green-50/50">
                    <h3 class="text-xl font-bold text-green-700 mb-2">Phân tích Đối thủ Cạnh tranh</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Đối thủ trực tiếp:</strong> Cần đánh giá về giá bán, chính sách chiết khấu, độ phủ kênh.</li>
                        <li><strong>Đối thủ gián tiếp:</strong> Cần chú ý đến các sản phẩm thay thế và cách họ tiếp cận khách hàng.</li>
                        <li><strong>Lợi thế cạnh tranh:</strong> Nhấn mạnh vào chất lượng sản phẩm, dịch vụ hậu mãi vượt trội, và chính sách hỗ trợ NPP hấp dẫn.</li>
                    </ul>
                </div>
                <!-- SWOT Analysis Card -->
                <div class="kpi-card lg:col-span-1 md:col-span-2 bg-yellow-50/50">
                    <h3 class="text-xl font-bold text-yellow-700 mb-2">Ma trận SWOT Tổng quát</h3>
                    <div class="grid grid-cols-2 gap-4 text-sm text-gray-600">
                        <div>
                            <p class="font-semibold text-gray-800">Sức mạnh (Strengths)</p>
                            <ul class="list-disc list-inside">
                                <li>Sản phẩm chất lượng cao.</li>
                                <li>Đội ngũ bán hàng chuyên nghiệp.</li>
                                <li>Chính sách chiết khấu cạnh tranh.</li>
                            </ul>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800">Điểm yếu (Weaknesses)</p>
                            <ul class="list-disc list-inside">
                                <li>Thương hiệu mới tại một số khu vực.</li>
                                <li>Ngân sách marketing còn hạn chế.</li>
                            </ul>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800">Cơ hội (Opportunities)</p>
                            <ul class="list-disc list-inside">
                                <li>Thị trường phát triển nhanh.</li>
                                <li>Xu hướng tiêu dùng dịch vụ cao cấp.</li>
                            </ul>
                        </div>
                        <div>
                            <p class="font-semibold text-gray-800">Thách thức (Threats)</p>
                            <ul class="list-disc list-inside">
                                <li>Cạnh tranh giá từ đối thủ.</li>
                                <li>Rủi ro về phá giá, ôm hàng.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="chinh-sach" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Chính sách Cốt lõi cho NPP & Đại lý</h2>
             <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Khám phá các chính sách chiết khấu, công nợ và hỗ trợ được thiết kế để thúc đẩy tăng trưởng và hợp tác bền vững.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-lg lg:col-span-2">
                    <h3 class="text-xl font-bold mb-4 text-blue-700">Chính sách Chiết khấu theo bậc Sản lượng</h3>
                    <p class="text-gray-600 mb-4">Mức chiết khấu được áp dụng trên doanh số nhập hàng hàng tháng, là cơ sở để Đại lý/NPP có động lực phát triển doanh số.</p>
                    <div class="responsive-table-container">
                        <div class="responsive-table-header discount-col">
                            <div>Doanh số nhập hàng/tháng</div>
                            <div>Mức chiết khấu</div>
                            <div>Thưởng thêm</div>
                        </div>
                        <div class="space-y-4 md:space-y-0">
                            <div class="responsive-table-row discount-col">
                                <div class="font-semibold text-lg sm:text-base">&lt; 100 triệu VNĐ</div>
                                <div>15%</div>
                                <div>-</div>
                            </div>
                            <div class="responsive-table-row discount-col">
                                <div class="font-semibold text-lg sm:text-base">100 - 300 triệu VNĐ</div>
                                <div>18%</div>
                                <div>+2% nếu đạt target SKU chiến lược</div>
                            </div>
                            <div class="responsive-table-row discount-col">
                                <div class="font-semibold text-lg sm:text-base">&gt; 300 triệu VNĐ</div>
                                <div>20%</div>
                                <div>+3% thưởng vượt target + hỗ trợ marketing cục bộ</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-blue-700">Công cụ Ước tính Chiết khấu</h3>
                    <p class="text-gray-600 mb-4">Nhập doanh số nhập hàng dự kiến mỗi tháng để xem mức chiết khấu và các khoản thưởng có thể nhận.</p>
                    <div class="space-y-4">
                        <div>
                            <label for="salesInput" class="block text-sm font-medium text-gray-700">Doanh số nhập hàng/tháng (triệu VNĐ)</label>
                            <input type="number" id="salesInput" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="Ví dụ: 150">
                        </div>
                        <div id="result" class="p-4 bg-blue-50 rounded-lg text-center">
                            <p class="text-gray-700">Vui lòng nhập doanh số để xem kết quả.</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg space-y-6">
                    <div>
                        <h3 class="text-xl font-bold mb-2 text-blue-700">Chính sách Công nợ</h3>
                        <div class="relative pl-6 border-l-2 border-blue-200">
                            <div class="mb-4 relative">
                                <div class="absolute -left-[1.6rem] top-1 w-6 h-6 bg-blue-500 rounded-full border-4 border-white"></div>
                                <p class="font-semibold">Đơn hàng đầu tiên</p>
                                <p class="text-gray-600">Thanh toán 100%.</p>
                            </div>
                            <div class="mb-4 relative">
                                <div class="absolute -left-[1.6rem] top-1 w-6 h-6 bg-blue-500 rounded-full border-4 border-white"></div>
                                <p class="font-semibold">Sau 3 tháng</p>
                                <p class="text-gray-600">Hỗ trợ công nợ 15 ngày (giới hạn 50 triệu).</p>
                            </div>
                            <div class="relative">
                                <div class="absolute -left-[1.6rem] top-1 w-6 h-6 bg-blue-500 rounded-full border-4 border-white"></div>
                                <p class="font-semibold">Sau 6 tháng</p>
                                <p class="text-gray-600">Hỗ trợ công nợ 30 ngày (giới hạn 100 triệu).</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-2 text-blue-700">Hỗ trợ từ Công ty</h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            <li>Cung cấp POSM (bảng hiệu, poster, catalogue...).</li>
                            <li>Đồng tài trợ 50/50 cho các sự kiện marketing.</li>
                            <li>Hỗ trợ kỹ thuật và đào tạo sản phẩm trực tuyến.</li>
                            <li>Cam kết dịch vụ bảo hành nhanh chóng: Phản hồi trong 48 giờ làm việc và xử lý trong 7 ngày.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        <section id="quy-trinh-tiep-can" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Quy trình Tiếp cận NPP Đầu tiên tại 1 Tỉnh</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Mô tả chi tiết 6 bước cốt lõi để thâm nhập thị trường mới và thiết lập mối quan hệ với Nhà Phân phối đầu tiên.
            </p>
            <div class="timeline-container large-text">
                <div class="timeline-line"></div>
                <div class="timeline-item">
                    <div class="timeline-dot flex items-center justify-center bg-blue-500">
                        <span class="text-white font-bold text-sm">1</span>
                    </div>
                    <div class="timeline-card">
                        <h3 class="text-xl font-bold text-blue-700 mb-2">Nghiên cứu Thị trường</h3>
                        <p class="text-gray-600">Thu thập dữ liệu về khu công nghiệp, nhà xưởng, công trình, showroom điện máy. Xác định sản phẩm chủ lực và đánh giá đối thủ cạnh tranh.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot flex items-center justify-center bg-green-500">
                        <span class="text-white font-bold text-sm">2</span>
                    </div>
                    <div class="timeline-card">
                        <h3 class="text-xl font-bold text-green-700 mb-2">Tìm kiếm Đối tác Tiềm năng</h3>
                        <p class="text-gray-600">Nhắm tới các nhà phân phối điện - điện lạnh, doanh nghiệp thương mại, đại lý quạt giá rẻ. Sử dụng các công cụ như Trang Vàng, Google Maps, Facebook để tìm kiếm.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot flex items-center justify-center bg-yellow-500">
                        <span class="text-white font-bold text-sm">3</span>
                    </div>
                    <div class="timeline-card">
                        <h3 class="text-xl font-bold text-yellow-700 mb-2">Gói "Ưu đãi Tiên phong"</h3>
                        <p class="text-gray-600">Áp dụng chính sách đặc biệt cho NPP đầu tiên: chiết khấu cao hơn 2-3% trong 6 tháng, độc quyền khu vực, hỗ trợ POSM và cam kết chạy quảng cáo online.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot flex items-center justify-center bg-red-500">
                        <span class="text-white font-bold text-sm">4</span>
                    </div>
                    <div class="timeline-card">
                        <h3 class="text-xl font-bold text-red-700 mb-2">Thử nghiệm bằng Đơn hàng Mẫu</h3>
                        <p class="text-gray-600">Không ép nhập kho lớn. Gửi combo sản phẩm mẫu trị giá khoảng 50-100 triệu VNĐ với chính sách đổi trả linh hoạt và cử kỹ thuật hỗ trợ trưng bày.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot flex items-center justify-center bg-purple-500">
                        <span class="text-white font-bold text-sm">5</span>
                    </div>
                    <div class="timeline-card">
                        <h3 class="text-xl font-bold text-purple-700 mb-2">Đồng hành - Tạo "Thành công đầu tiên"</h3>
                        <p class="text-gray-600">Tổ chức mini event tại cửa hàng, hỗ trợ NPP ký hợp đồng B2B đầu tiên và xây dựng case study thành công để quảng bá.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot flex items-center justify-center bg-orange-500">
                        <span class="text-white font-bold text-sm">6</span>
                    </div>
                    <div class="timeline-card">
                        <h3 class="text-xl font-bold text-orange-700 mb-2">Tái ký & Mở rộng</h3>
                        <p class="text-gray-600">Sau 6 tháng, tái ký hợp đồng chính thức. Nếu không hiệu quả, tìm đối tác khác. Khi đã có NPP mẫu, việc mở rộng tuyến dưới sẽ dễ dàng hơn.</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="ke-hoach-marketing" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Kế hoạch Marketing & Hỗ trợ Bán hàng</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Các chiến lược và hoạt động marketing cụ thể nhằm thu hút và hỗ trợ NPP/Đại lý.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                <div class="kpi-card bg-purple-50/50">
                    <h3 class="text-xl font-bold text-purple-700 mb-2">Chiến lược Marketing B2B (Tuyển NPP)</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Quảng cáo trên B2B:</strong> Chạy chiến dịch quảng cáo trên các nền tảng/nhóm ngành liên quan.</li>
                        <li><strong>Workshop & Hội thảo:</strong> Tổ chức các buổi workshop giới thiệu sản phẩm, chính sách và cơ hội kinh doanh tại các khu vực trọng điểm.</li>
                        <li><strong>Tham gia Hội chợ:</strong> Tham gia các sự kiện, triển lãm ngành để tăng nhận diện thương hiệu và tìm kiếm đối tác tiềm năng.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-orange-50/50">
                    <h3 class="text-xl font-bold text-orange-700 mb-2">Chiến lược Marketing B2C (Hỗ trợ NPP)</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Tài liệu POSM:</strong> Cung cấp đầy đủ các tài liệu trưng bày tại điểm bán (bảng hiệu, kệ trưng bày, poster, tờ rơi).</li>
                        <li><strong>Chương trình Khuyến mãi:</strong> Phối hợp cùng NPP tổ chức các chương trình khuyến mãi cho khách hàng cuối (ví dụ: mua 2 tặng 1, tặng voucher...).</li>
                        <li><strong>Hỗ trợ Quảng cáo Cục bộ:</strong> Đồng tài trợ chi phí quảng cáo trên các kênh truyền thông địa phương hoặc mạng xã hội.</li>
                    </ul>
                </div>
                <div class="kpi-card md:col-span-2 bg-gray-100/50">
                    <h3 class="text-xl font-bold text-gray-700 mb-2">Ngân sách Marketing Ước tính</h3>
                    <p class="text-gray-600">Dựa trên các hoạt động đề xuất, ngân sách marketing dự kiến sẽ được phân bổ như sau:</p>
                    <ul class="list-disc list-inside text-gray-600 mt-2 space-y-1">
                        <li>Chi phí quảng cáo B2B: 20%</li>
                        <li>Tổ chức sự kiện/workshop: 30%</li>
                        <li>Hỗ trợ POSM & khuyến mãi: 40%</li>
                        <li>Ngân sách dự phòng: 10%</li>
                    </ul>
                </div>
            </div>
        </section>
        <section id="doi-ngu" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Đội ngũ Bán hàng GT & Cơ chế Lương Thưởng</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Cơ chế lương thưởng và các chỉ số KPI chi tiết cho đội ngũ sale thị trường.
            </p>
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-bold mb-4 text-green-700">Cơ chế Lương Thưởng Chi tiết</h3>
                <!-- Responsive table for salary structure -->
                <div class="responsive-table-container">
                     <div class="responsive-table-header four-col">
                        <div>Thành phần</div>
                        <div>Tỷ trọng</div>
                        <div>Cơ chế</div>
                        <div>Ví dụ</div>
                    </div>
                    <div class="space-y-4 md:space-y-0">
                        <div class="responsive-table-row four-col">
                            <div class="font-semibold">Lương cứng</div>
                            <div class="font-semibold">60%</div>
                            <div>Mức lương cơ bản ổn định, đảm bảo thu nhập hàng tháng không phụ thuộc vào kết quả kinh doanh.</div>
                            <div>Mức lương 8 triệu VNĐ/tháng.</div>
                        </div>
                        <div class="responsive-table-row four-col">
                            <div class="font-semibold">Lương KPI</div>
                            <div class="font-semibold">40%</div>
                            <div>
                                <ul class="list-disc list-inside text-sm">
                                    <li>Đạt &lt; 50% KPI: Nhận 0% lương KPI.</li>
                                    <li>Đạt 50%-70% KPI: Thưởng 1 triệu VNĐ.</li>
                                    <li>Đạt 70%-99% KPI: Nhận 80% lương KPI.</li>
                                    <li>Đạt 100% KPI: Nhận 100% lương KPI.</li>
                                    <li>Đạt 101% - 120% KPI: Thưởng lũy tiến 150% cho phần doanh số vượt.</li>
                                    <li>Vượt &gt;120% KPI: Thưởng lũy tiến 200% cho phần doanh số vượt.</li>
                                </ul>
                            </div>
                            <div>
                                <ul class="list-disc list-inside text-sm">
                                    <li><strong>Nếu đạt 40% KPI:</strong> Nhận 0% lương KPI mục tiêu = <strong>0 VNĐ</strong>.</li>
                                    <li><strong>Nếu đạt 60% KPI:</strong> Nhận thưởng cố định <strong>1 triệu VNĐ</strong>.</li>
                                    <li><strong>Nếu đạt 80% KPI:</strong> Nhận 80% lương KPI mục tiêu = 80% x 5.33 triệu = <strong>4.264 triệu VNĐ</strong>.</li>
                                    <li><strong>Nếu đạt 100% KPI:</strong> Nhận 100% lương KPI mục tiêu = 100% x 5.33 triệu = <strong>5.33 triệu VNĐ</strong>.</li>
                                    <li><strong>Nếu đạt 110% KPI:</strong> Lương = 5.33 triệu + (10% x 5.33 triệu x 150%) = 5.33 + 0.8 = <strong>6.13 triệu VNĐ</strong>.</li>
                                    <li><strong>Nếu đạt 125% KPI:</strong> Lương = 5.33 triệu + (25% x 5.33 triệu x 200%) = 5.33 + 2.67 = <strong>8 triệu VNĐ</strong>.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="responsive-table-row four-col">
                            <div class="font-semibold">Thưởng nóng</div>
                            <div>Theo hiệu suất</div>
                            <div>
                                <ul class="list-disc list-inside text-sm">
                                    <li><strong>Mở Đại lý/NPP mới:</strong> 500,000 VNĐ/điểm, chi trả sau khi ký hợp đồng và nhập lô hàng đầu tiên.</li>
                                    <li><strong>Phủ điểm bán mới (thúc đẩy NPP):</strong> 200,000 VNĐ/điểm. Khoản thưởng này dành cho nhân viên sale khi hỗ trợ NPP hoàn thành KPI độ phủ điểm bán mới, đảm bảo sản phẩm được phân phối sâu rộng.</li>
                                    <li><strong>Bán SKU chiến lược:</strong> +1% trên doanh số trực tiếp từ SKU đó.</li>
                                </ul>
                            </div>
                            <div>
                                <ul>
                                    <li>Mở thành công 2 đại lý mới trong tháng, nhận thưởng 1 triệu VNĐ.</li>
                                    <li>Giúp NPP đạt KPI phủ được 10 điểm bán mới trong quý, nhận thưởng 2 triệu VNĐ.</li>
                                    <li>Bán được 100 triệu VNĐ từ SKU X, nhận thêm 1 triệu VNĐ (1% doanh số).</li>
                                </ul>
                            </div>
                        </div>
                        <div class="responsive-table-row four-col">
                            <div class="font-semibold">Thưởng quý/năm</div>
                            <div>Theo thành tích</div>
                            <div>
                                <ul class="list-disc list-inside text-sm">
                                    <li><strong>Thưởng Quý:</strong> Đạt 100% KPI quý: Thưởng 1 tháng lương cứng. Vượt 120% KPI quý: Thưởng 1.5 tháng lương cứng.</li>
                                    <li><strong>Thưởng Năm:</strong> Top 1 xuất sắc năm: Thưởng 3 tháng lương cứng, vinh danh trước toàn công ty.</li>
                                </ul>
                            </div>
                            <div>Đạt 100% KPI quý, nhận thêm 1 tháng lương cứng (ví dụ: 8 triệu VNĐ). Được vinh danh Top 1 xuất sắc nhất năm và nhận thưởng 3 tháng lương cứng.</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-12 bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-bold mb-4 text-blue-700">Bảng KPI Chi tiết cho Nhân viên Sale</h3>
                <p class="text-gray-600 mb-4">Các chỉ số chính được sử dụng để đánh giá hiệu quả và là cơ sở để tính toán lương thưởng hàng tháng.</p>
                <div class="responsive-table-container">
                    <div class="responsive-table-header three-col">
                        <div>Chỉ số</div>
                        <div>Mức độ</div>
                        <div>Công thức tính</div>
                    </div>
                    <div class="space-y-4 md:space-y-0">
                        <div class="responsive-table-row three-col">
                            <div class="font-semibold">Doanh số tháng (VND)</div>
                            <div>Cá nhân</div>
                            <div>Tổng doanh số thực tế/Tổng doanh số mục tiêu</div>
                        </div>
                        <div class="responsive-table-row three-col">
                            <div class="font-semibold">Tỷ lệ khách hàng cũ tái nhập</div>
                            <div>Cá nhân</div>
                            <div>(Số khách hàng tái nhập/Tổng số khách hàng cũ) * 100%</div>
                        </div>
                        <div class="responsive-table-row three-col">
                            <div class="font-semibold">Số lượng khách hàng mới</div>
                            <div>Cá nhân</div>
                            <div>Số lượng khách hàng mới mở trong tháng</div>
                        </div>
                        <div class="responsive-table-row three-col">
                            <div class="font-semibold">Độ phủ sản phẩm (%)</div>
                            <div>Đại lý/NPP</div>
                            <div>(Số sản phẩm có mặt tại điểm bán/Tổng số SKU) * 100%</div>
                        </div>
                        <div class="responsive-table-row three-col">
                            <div class="font-semibold">Độ phủ ngành hàng (%)</div>
                            <div>Khu vực</div>
                            <div>(Số điểm bán có sản phẩm/Tổng điểm bán trong khu vực) * 100%</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="dao-tao" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Kế hoạch Đào tạo & Phát triển Năng lực</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Xây dựng năng lực cho đội ngũ nội bộ và các đối tác NPP/Đại lý.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                <div class="kpi-card bg-red-50/50">
                    <h3 class="text-xl font-bold text-red-700 mb-2">Đào tạo Sales Nội bộ</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Kiến thức Sản phẩm:</strong> Hiểu sâu về tính năng, lợi ích và ưu điểm cạnh tranh của từng SKU.</li>
                        <li><strong>Kỹ năng Bán hàng:</strong> Đào tạo về kỹ năng đàm phán, chốt đơn, và xử lý từ chối.</li>
                        <li><strong>Quản lý NPP:</strong> Hướng dẫn cách xây dựng mối quan hệ, hỗ trợ và thúc đẩy NPP đạt KPI.</li>
                        <li><strong>Sử dụng Công cụ:</strong> Huấn luyện sử dụng hệ thống CRM và các công cụ báo cáo.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-teal-50/50">
                    <h3 class="text-xl font-bold text-teal-700 mb-2">Đào tạo cho NPP & Đại lý</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Sản phẩm Chuyên sâu:</strong> Cung cấp tài liệu và buổi đào tạo định kỳ về các sản phẩm mới.</li>
                        <li><strong>Kỹ năng Tư vấn:</strong> Hướng dẫn cách tư vấn sản phẩm cho khách hàng cuối, giải đáp thắc mắc.</li>
                        <li><strong>Hỗ trợ Kỹ thuật:</strong> Đào tạo cơ bản về xử lý các lỗi kỹ thuật thường gặp, nhận biết vấn đề để phản hồi nhanh chóng.</li>
                    </ul>
                </div>
            </div>
        </section>
        <section id="kiem-soat" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Cơ chế Kiểm soát & Giám sát</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Sử dụng các công cụ và quy trình để đảm bảo sự minh bạch và hiệu quả trong toàn hệ thống.
            </p>
             <div class="bg-white p-6 rounded-xl shadow-lg">
                <div class="responsive-table-container">
                    <div class="responsive-table-header two-col">
                        <div>Đối tượng</div>
                        <div>Công cụ/Phương thức Kiểm soát</div>
                    </div>
                    <div class="space-y-4 md:space-y-0">
                        <div class="responsive-table-row two-col">
                            <div class="font-semibold">Doanh số & Đơn hàng</div>
                            <div>
                                <ul class="list-disc list-inside">
                                    <li><strong>Hệ thống ERP/CRM:</strong> Nhập dữ liệu đơn hàng ngay khi phát sinh.</li>
                                    <li><strong>Mã số Đại lý (`AL001...`):</strong> Dùng để theo dõi doanh số của từng Đại lý/NPP một cách chính xác.</li>
                                    <li><strong>Dashboard Google Data Studio:</strong> Tổng hợp dữ liệu tự động, hiển thị biểu đồ và báo cáo chi tiết theo thời gian thực.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="responsive-table-row two-col">
                            <div class="font-semibold">Giá bán & Tồn kho</div>
                            <div>
                                <ul class="list-disc list-inside">
                                    <li><strong>Mystery shopper:</strong> Cử người đi kiểm tra giá bán tại các điểm bán ngẫu nhiên.</li>
                                    <li><strong>Báo cáo tồn kho định kỳ:</strong> Yêu cầu NPP gửi báo cáo tồn kho hàng tuần để đối chiếu với doanh số nhập hàng, nhằm kiểm tra "sức bán" thực tế và tránh tình trạng "ôm hàng".</li>
                                    <li><strong>Audit đột xuất:</strong> Tiến hành kiểm tra kho và đối chiếu số liệu bất ngờ.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="responsive-table-row two-col">
                            <div class="font-semibold">Độ phủ Thị trường</div>
                            <div>
                                <ul class="list-disc list-inside">
                                    <li><strong>So sánh doanh số:</strong> Đối chiếu doanh số nhập hàng của NPP với doanh số bán ra của các đại lý cấp 2.</li>
                                    <li><strong>KPI Độ phủ:</strong> Đánh giá KPI theo số lượng điểm bán mới và độ phủ SKU tại mỗi điểm bán.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
             </div>
        </section>
        <section id="hau-mai" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Chính sách Hậu mãi & Giải quyết Xung đột</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Các quy trình rõ ràng để xử lý khiếu nại, bảo hành và giải quyết các xung đột kênh.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                <div class="kpi-card bg-blue-50/50">
                    <h3 class="text-xl font-bold text-blue-700 mb-2">Quy trình Bảo hành & Dịch vụ</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Tiếp nhận yêu cầu:</strong> NPP/Đại lý tiếp nhận yêu cầu bảo hành từ khách hàng cuối.</li>
                        <li><strong>Phản hồi:</strong> Công ty cam kết phản hồi trong vòng <strong>48 giờ làm việc</strong>.</li>
                        <li><strong>Xử lý:</strong> Công ty chịu trách nhiệm xử lý kỹ thuật, cam kết hoàn thành trong vòng <strong>7 ngày làm việc</strong>.</li>
                        <li><strong>Tiêu chuẩn:</strong> Đại lý phải có khu vực tiếp nhận bảo hành tối thiểu để đảm bảo dịch vụ chuyên nghiệp.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-red-50/50">
                    <h3 class="text-xl font-bold text-red-700 mb-2">Quy trình Giải quyết Xung đột Kênh</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li><strong>Ưu tiên Kênh:</strong> Ưu tiên kênh chốt đơn trước (showroom/online/GT) để xác định doanh số.</li>
                        <li><strong>Khách hàng trọng điểm (Key Account):):</strong> Do công ty trực tiếp quản lý để tránh xung đột.</li>
                        <li><strong>Bảo vệ khu vực:</strong> NPP được bảo vệ khu vực phát triển đại lý cấp 2. Nếu có NPP khác xâm lấn, công ty sẽ xử lý dựa trên hợp đồng.</li>
                    </ul>
                </div>
            </div>
        </section>
        <section id="rui-ro" class="mb-16">
            <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-4 text-center text-gray-800">Rủi ro & Giải pháp</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-10 text-center">
                Các rủi ro tiềm ẩn trong quá trình phát triển kênh và các giải pháp đã được đề xuất.
            </p>
             <div class="bg-white p-6 rounded-xl shadow-lg">
                <div class="responsive-table-container">
                    <div class="responsive-table-header two-col">
                        <div>Rủi ro</div>
                        <div>Giải pháp</div>
                    </div>
                    <div class="space-y-4 md:space-y-0">
                        <div class="responsive-table-row two-col">
                            <div class="font-semibold">Phá giá</div>
                            <div>Áp dụng chính sách phạt nghiêm ngặt, sử dụng "mystery shopper", và cắt hợp đồng nếu tái phạm.</div>
                        </div>
                        <div class="responsive-table-row two-col">
                            <div class="font-semibold">Ôm hàng</div>
                            <div>Kiểm tra tồn kho định kỳ, hỗ trợ NPP xây dựng kế hoạch bán hàng.</div>
                        </div>
                        <div class="responsive-table-row two-col">
                            <div class="font-semibold">Chậm thanh toán</div>
                            <div>Quy trình cảnh báo sớm, thu hẹp hạn mức công nợ hoặc tạm dừng cung cấp hàng.</div>
                        </div>
                        <div class="responsive-table-row two-col">
                            <div class="font-semibold">Sale thông đồng</div>
                            <div>Áp dụng KPI chặt chẽ, kiểm tra đột xuất, và thưởng KPI rõ ràng.</div>
                        </div>
                    </div>
                </div>
             </div>
        </section>

        <!-- New Gemini Feature: Summary and Analysis Button -->

    </main>

    <footer class="bg-gray-800 mt-16">
        <div class="container mx-auto py-4 px-4 sm:px-6 lg:px-8 text-center text-gray-400 text-sm">
            <p>&copy; 2025 - Dashboard Kế hoạch Phát triển Kênh GT.</p>
        </div>
    </footer>

    <!-- New Gemini Feature: Chatbot button and container -->
    <div class="fixed bottom-6 right-6 z-50">
        <button id="chatBtn" class="w-16 h-16 bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center text-2xl hover:bg-blue-700 transition-colors duration-200">
            <i class="fas fa-comment-dots"></i>
        </button>
    </div>

    <div id="chatContainer" class="chat-container hidden">
        <div class="chat-header">
            <h4 class="font-bold text-lg">Trợ lý Kế hoạch GT ✨</h4>
            <button id="closeChatBtn" class="text-white text-xl">&times;</button>
        </div>
        <div id="chatBody" class="chat-body">
            <!-- Chat messages will be appended here -->
            <div class="bot-message chat-message">
                Chào bạn! Tôi là trợ lý AI. Bạn có câu hỏi nào về kế hoạch phát triển kênh GT không?
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" class="flex-1 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm" placeholder="Nhập câu hỏi của bạn...">
            <button id="sendChatBtn" class="ml-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200">
                Gửi
            </button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Data for the timeline and charts
            const timelineData = [
                {
                    quarter: 'Quý 1',
                    revenue: 0.5,
                    icon: `<i class="fa-solid fa-arrow-down-long"></i>`,
                    activities: [
                        'Tuyển dụng 3-5 sale thị trường.',
                        'Mở 6-8 Đại lý/NPP mới tại Long An, Tây Ninh, Bình Phước.'
                    ],
                    expectedResult: [
                        'Bao phủ 80% khu vực trọng điểm.',
                        'Doanh số GT đạt 500 triệu.'
                    ]
                },
                {
                    quarter: 'Quý 2',
                    revenue: 1.5,
                    icon: `<i class="fa-solid fa-chart-line"></i>`,
                    activities: [
                        'Mở thêm 8-10 Đại lý/NPP.',
                        'Triển khai hệ thống báo cáo và dashboard tự động (Google Data Studio).'
                    ],
                    expectedResult: [
                        'Doanh số GT đạt 1.5 tỷ.',
                        'Thiết lập nền tảng quản trị vững chắc.'
                    ]
                },
                {
                    quarter: 'Quý 3',
                    revenue: 2.5,
                    icon: `<i class="fa-solid fa-earth-americas"></i>`,
                    activities: [
                        'Mở rộng ra Miền Trung (Đà Nẵng, Nha Trang): Tuyển 2 sale mới, mở ≥5 NPP.',
                        'Tổ chức sự kiện co-marketing đầu tiên với NPP.'
                    ],
                    expectedResult: [
                        'Doanh số GT đạt 2.5 tỷ.',
                        'Tăng nhận diện thương hiệu tại miền Trung.'
                    ]
                },
                {
                    quarter: 'Quý 4',
                    revenue: 3.5,
                    icon: `<i class="fa-solid fa-bullseye"></i>`,
                    activities: [
                        'Bắc tiến (Hà Nội, Bắc Ninh, Hải Phòng): Tuyển 3 sale mới, mở ≥5 NPP.',
                        'Tổng kết và trao thưởng cho NPP xuất sắc năm.'
                    ],
                    expectedResult: [
                        'Doanh số GT đạt 3.5 tỷ.',
                        'Kênh GT chiếm 20% tổng doanh thu toàn công ty.'
                    ]
                }
            ];

            // Content of the entire plan to be summarized
            const planContent = `
                Kế hoạch Phát triển Kênh GT Nghệ Năng:

                I. Định hướng chung
                - Mục tiêu: Phủ kênh GT tại 63 tỉnh thành trong 3 năm.
                - Nguyên tắc: Phát triển theo từng vùng, tập trung NPP chính, ứng dụng công nghệ, kết hợp online-offline.

                II. Lộ trình 3 giai đoạn
                - GĐ 1 (Năm 1): Phủ Miền Nam (15 tỉnh). KPI: 15-20% tổng doanh thu. Nhân sự: 1 Trưởng phòng, 2 GS, 4 Sales.
                - GĐ 2 (Năm 2): Mở rộng Miền Trung & Tây Nguyên (20 tỉnh). Doanh thu tăng 30-40%. Nhân sự: thêm 1 GS, 3 Sales.
                - GĐ 3 (Năm 3): Phủ sóng Miền Bắc (28 tỉnh). Doanh thu >35%. Nhân sự: thêm 1 Quản lý vùng, 5 Sales.
                - Tổng đầu tư 3 năm: 25-30 tỷ VND.

                III. Lộ trình 12 tháng (Chi tiết)
                - Q1: Doanh số 500 triệu. Hoạt động: Tuyển 3-5 sales, mở 6-8 đại lý.
                - Q2: Doanh số 1.5 tỷ. Hoạt động: Mở 8-10 đại lý, triển khai dashboard.
                - Q3: Doanh số 2.5 tỷ. Hoạt động: Mở rộng Miền Trung, tổ chức co-marketing.
                - Q4: Doanh số 3.5 tỷ. Hoạt động: Bắc tiến, tổng kết cuối năm.

                IV. Phân tích
                - Thị trường: Các khu công nghiệp, đô thị mới nổi (Long An, Tây Ninh), thị trường du lịch (Đà Nẵng), thị trường truyền thống (Hà Nội).
                - Đối thủ: Cạnh tranh trực tiếp và gián tiếp.
                - SWOT: Sức mạnh (sản phẩm, đội ngũ), Điểm yếu (thương hiệu, ngân sách), Cơ hội (thị trường), Thách thức (phá giá, ôm hàng).

                V. Chính sách NPP
                - Chiết khấu: Theo bậc doanh số, từ 15% đến 20%, có thưởng thêm.
                - Công nợ: 100% thanh toán ban đầu, sau đó hỗ trợ 15-30 ngày.
                - Hỗ trợ: POSM, đồng tài trợ marketing, bảo hành 48h-7 ngày.

                VI. Quy trình Tiếp cận
                - 6 bước: Nghiên cứu thị trường, tìm đối tác, ưu đãi tiên phong, đơn hàng mẫu, đồng hành, tái ký.

                VII. Đội ngũ & Lương thưởng
                - Lương: 60% cứng, 40% KPI. Thưởng nóng mở đại lý, phủ điểm bán, bán SKU chiến lược. Thưởng quý/năm.

                VIII. Đào tạo
                - Nội bộ: Kiến thức sản phẩm, kỹ năng bán hàng, quản lý NPP.
                - Đối tác: Đào tạo sản phẩm chuyên sâu, kỹ năng tư vấn, hỗ trợ kỹ thuật.

                IX. Kiểm soát
                - Doanh số: Hệ thống ERP/CRM, mã số đại lý.
                - Giá & Tồn kho: Mystery shopper, báo cáo tồn kho định kỳ.
                - Độ phủ: KPI độ phủ, so sánh doanh số.

                X. Hậu mãi & Xung đột
                - Bảo hành: Phản hồi 48h, xử lý 7 ngày.
                - Xung đột: Ưu tiên kênh chốt đơn, quản lý Key Account, bảo vệ khu vực.

                XI. Rủi ro & Giải pháp
                - Phá giá: Chính sách phạt, mystery shopper.
                - Ôm hàng: Kiểm tra tồn kho, hỗ trợ kế hoạch.
                - Chậm thanh toán: Cảnh báo sớm, thu hẹp hạn mức.
                - Sale thông đồng: KPI chặt, kiểm tra đột xuất.
            `;

            // Function to make API call with exponential backoff
            async function callGeminiApi(prompt, isSummary = false) {
                const maxRetries = 3;
                let retries = 0;
                let delay = 1000; // 1 second
                
                // Define the system instruction based on the use case
                let systemPrompt = `
                    Bạn là một trợ lý AI chuyên về phân tích và tư vấn kinh doanh tại Việt Nam. 
                    Nhiệm vụ của bạn là đưa ra các nhận xét, phân tích, tóm tắt và lời khuyên dựa trên dữ liệu. 
                    Khi trả lời, hãy sử dụng văn phong chuyên nghiệp, trực tiếp, và đi thẳng vào vấn đề. 
                    Sử dụng các số liệu và ý chính từ dữ liệu được cung cấp.
                `;
                
                if (isSummary) {
                    systemPrompt += ` Dữ liệu được cung cấp là một bản kế hoạch phát triển kênh GT. 
                    Nhiệm vụ của bạn là tóm tắt và phân tích các điểm chính, cơ hội, và rủi ro tiềm ẩn.
                    Tóm tắt cần bao gồm:
                    - Tổng quan mục tiêu và ngân sách.
                    - Các chiến lược và lộ trình chính.
                    - Các rủi ro và giải pháp đã đề cập.
                    - Phân tích và nhận định cá nhân về điểm mạnh/điểm yếu của kế hoạch.
                    - Không được tạo ra dữ liệu không có trong kế hoạch.
                    - Cần giữ nguyên các con số (tỷ VNĐ, %...) đã được đề cập trong văn bản gốc.
                    Phản hồi nên dưới dạng danh sách gạch đầu dòng và đoạn văn ngắn gọn.
                    Tóm tắt bằng tiếng Việt.
                    `;
                } else {
                    systemPrompt += ` Dữ liệu được cung cấp là một bản kế hoạch phát triển kênh GT. 
                    Nhiệm vụ của bạn là trả lời câu hỏi của người dùng dựa trên hoặc liên quan đến kế hoạch này.
                    - Nếu câu hỏi yêu cầu phân tích, hãy sử dụng dữ liệu từ kế hoạch.
                    - Nếu câu hỏi yêu cầu sáng tạo ý tưởng, hãy sử dụng nội dung kế hoạch làm nền tảng.
                    - Nếu câu hỏi không liên quan đến kế hoạch, hãy trả lời một cách lịch sự rằng bạn chỉ có thể hỗ trợ về nội dung của kế hoạch.
                    - Tránh việc tạo ra các thông tin không có trong văn bản gốc.
                    - Trả lời bằng tiếng Việt.
                    `;
                }

                while (retries < maxRetries) {
                    try {
                        const payload = {
                            contents: [{ parts: [{ text: prompt }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] },
                            tools: [{ "google_search": {} }],
                        };

                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.status === 429) {
                            throw new Error('Too Many Requests');
                        }

                        if (!response.ok) {
                            throw new Error(`API call failed with status: ${response.status}`);
                        }

                        const result = await response.json();
                        const candidate = result.candidates?.[0];
                        if (candidate && candidate.content?.parts?.[0]?.text) {
                            return candidate.content.parts[0].text;
                        } else {
                            throw new Error('Invalid API response format.');
                        }
                    } catch (error) {
                        if (error.message === 'Too Many Requests' && retries < maxRetries - 1) {
                            console.warn(`Rate limit hit. Retrying in ${delay / 1000} seconds...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            delay *= 2; // Exponential backoff
                            retries++;
                        } else {
                            console.error('Failed to call Gemini API:', error);
                            return 'Rất tiếc, đã có lỗi xảy ra. Vui lòng thử lại sau.';
                        }
                    }
                }
                return 'Rất tiếc, đã xảy ra lỗi sau nhiều lần thử. Vui lòng thử lại sau.';
            }

            // Summary button logic
            const summarizeBtn = document.getElementById('summarizeBtn');
            const summaryModal = document.getElementById('summaryModal');
            const summaryContent = document.getElementById('summaryContent');
            const summaryLoader = document.getElementById('summaryLoader');
            const closeBtn = document.querySelector('.close-btn');

            summarizeBtn.addEventListener('click', async () => {
                summaryContent.innerHTML = `<p class="text-center text-gray-500 italic">Đang phân tích...</p>`;
                summaryLoader.classList.remove('hidden');
                summaryModal.style.display = 'block';

                const result = await callGeminiApi(planContent, true);
                summaryContent.innerHTML = result.replace(/\n/g, '<br>');
                summaryLoader.classList.add('hidden');
            });

            closeBtn.onclick = function() {
                summaryModal.style.display = 'none';
            }
            window.onclick = function(event) {
                if (event.target == summaryModal) {
                    summaryModal.style.display = 'none';
                }
            }

            // Strategy generator logic
            const strategyInput = document.getElementById('strategyInput');
            const generateStrategyBtn = document.getElementById('generateStrategyBtn');
            const strategyOutput = document.getElementById('strategyOutput');
            const strategyText = document.getElementById('strategyText');
            const strategyLoader = document.getElementById('strategyLoader');

            generateStrategyBtn.addEventListener('click', async () => {
                const keyword = strategyInput.value;
                if (keyword.trim() === '') {
                    alert('Vui lòng nhập từ khóa hoặc vấn đề.');
                    return;
                }

                strategyOutput.classList.remove('hidden');
                strategyText.innerHTML = '';
                strategyLoader.classList.remove('hidden');

                const prompt = `Dựa trên bản kế hoạch phát triển kênh GT sau đây, hãy đưa ra một vài ý tưởng chiến lược sáng tạo xoay quanh chủ đề "${keyword}". 
                Kế hoạch: ${planContent}`;

                const result = await callGeminiApi(prompt);
                strategyText.innerHTML = result.replace(/\n/g, '<br>');
                strategyLoader.classList.add('hidden');
            });


            // Chatbot logic
            const chatBtn = document.getElementById('chatBtn');
            const chatContainer = document.getElementById('chatContainer');
            const closeChatBtn = document.getElementById('closeChatBtn');
            const chatBody = document.getElementById('chatBody');
            const chatInput = document.getElementById('chatInput');
            const sendChatBtn = document.getElementById('sendChatBtn');
            let isChatOpen = false;

            chatBtn.addEventListener('click', () => {
                isChatOpen = !isChatOpen;
                chatContainer.classList.toggle('hidden', !isChatOpen);
                chatContainer.classList.toggle('open', isChatOpen);
            });

            closeChatBtn.addEventListener('click', () => {
                isChatOpen = false;
                chatContainer.classList.add('hidden');
                chatContainer.classList.remove('open');
            });

            sendChatBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            async function sendMessage() {
                const userMessage = chatInput.value.trim();
                if (userMessage === '') return;

                // Display user message
                const userMsgDiv = document.createElement('div');
                userMsgDiv.className = 'chat-message user-message';
                userMsgDiv.textContent = userMessage;
                chatBody.appendChild(userMsgDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
                chatInput.value = '';

                // Display loading indicator
                const botTypingDiv = document.createElement('div');
                botTypingDiv.className = 'bot-message chat-message text-gray-500 italic';
                botTypingDiv.textContent = 'Đang nghĩ...';
                chatBody.appendChild(botTypingDiv);
                chatBody.scrollTop = chatBody.scrollHeight;

                const prompt = `Dựa trên bản kế hoạch GT sau, hãy trả lời câu hỏi của người dùng: "${userMessage}". 
                Kế hoạch: ${planContent}`;
                
                const responseText = await callGeminiApi(prompt);

                // Update the bot message with the actual response
                botTypingDiv.textContent = responseText;
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            // Render the new timeline details
            const timelineDetailsContainer = document.getElementById('timeline-details');
            timelineDetailsContainer.innerHTML = ''; // Clear existing content
            timelineData.forEach((item, index) => {
                const detailElement = document.createElement('div');
                detailElement.className = 'timeline-item';
                detailElement.innerHTML = `
                    <div class="timeline-dot flex items-center justify-center">
                        ${item.icon}
                    </div>
                    <div class="timeline-card">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">${item.quarter}</h3>
                        <p class="text-sm font-semibold text-blue-600 mb-4">Mục tiêu Doanh số: ${item.revenue} tỷ VNĐ</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-2 flex items-center">
                                    <span class="mr-2 text-blue-500">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm-1-9a1 1 0 102 0V6a1 1 0 10-2 0v3z" clip-rule="evenodd" />
                                        </svg>
                                    </span>
                                    Hoạt động chính
                                </h4>
                                <ul class="list-none text-gray-600 space-y-1">${item.activities.map(act => `<li class="relative pl-4"><span class="absolute left-0 top-1.5 text-blue-500">•</span>${act}</li>`).join('')}</ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-2 flex items-center">
                                    <span class="mr-2 text-green-500">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                        </svg>
                                    </span>
                                    Kết quả kỳ vọng
                                </h4>
                                <ul class="list-none text-gray-600 space-y-1">${item.expectedResult.map(res => `<li class="relative pl-4"><span class="absolute left-0 top-1.5 text-green-500">•</span>${res}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>
                `;
                timelineDetailsContainer.appendChild(detailElement);
            });

            // Revenue chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            const revenueChart = new Chart(revenueCtx, {
                type: 'bar',
                data: {
                    labels: timelineData.map(d => d.quarter),
                    datasets: [{
                        label: 'Doanh thu Mục tiêu (tỷ VNĐ)',
                        data: timelineData.map(d => d.revenue),
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.6)',
                            'rgba(16, 185, 129, 0.6)',
                            'rgba(234, 179, 8, 0.6)',
                            'rgba(239, 68, 68, 0.6)'
                        ],
                        borderColor: [
                            'rgba(59, 130, 246, 1)',
                            'rgba(16, 185, 129, 1)',
                            'rgba(234, 179, 8, 1)',
                            'rgba(239, 68, 68, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Tỷ VNĐ'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Doanh thu: ${context.raw} tỷ VNĐ`;
                                }
                            }
                        }
                    }
                }
            });

            // Discount calculator
            const salesInput = document.getElementById('salesInput');
            const resultDiv = document.getElementById('result');
            salesInput.addEventListener('input', function () {
                const sales = parseFloat(this.value);
                if (isNaN(sales) || sales < 0) {
                    resultDiv.innerHTML = '<p class="text-gray-700">Vui lòng nhập một số hợp lệ.</p>';
                    return;
                }

                let discount = 0;
                let bonus = '';

                if (sales < 100) {
                    discount = 15;
                } else if (sales >= 100 && sales <= 300) {
                    discount = 18;
                    bonus = '<br><span class="font-semibold text-green-600">+2% nếu đạt target SKU chiến lược</span>';
                } else {
                    discount = 20;
                    bonus = '<br><span class="font-semibold text-green-600">+3% thưởng vượt target & hỗ trợ marketing</span>';
                }

                resultDiv.innerHTML = `
                    <p class="text-lg text-gray-800">Mức chiết khấu cơ bản:</p>
                    <p class="text-3xl font-bold text-blue-600">${discount}%</p>
                    <p class="text-sm text-gray-600 mt-2">Thưởng thêm tiềm năng:${bonus || ' Không có'}</p>
                `;
            });
            
            // Scroll-spy navigation
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 80) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>
